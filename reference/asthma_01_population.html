<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Asthma-01 Populations — asthma_01_population • nemsqar</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Asthma-01 Populations — asthma_01_population"><meta name="description" content="Filters data down to the target populations for Asthma-01, and categorizes
records to identify needed information for the calculations.
Identifies key categories related to asthma-related incidents in an EMS
dataset, specifically focusing on cases where 911 was called for respiratory
distress, and certain medications were administered. This function segments
the data by age into adult and pediatric populations, computing the
proportion of cases that received beta-agonist treatment."><meta property="og:description" content="Filters data down to the target populations for Asthma-01, and categorizes
records to identify needed information for the calculations.
Identifies key categories related to asthma-related incidents in an EMS
dataset, specifically focusing on cases where 911 was called for respiratory
distress, and certain medications were administered. This function segments
the data by age into adult and pediatric populations, computing the
proportion of cases that received beta-agonist treatment."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">nemsqar</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bemts-hhs/nemsqar/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Asthma-01 Populations</h1>
      <small class="dont-index">Source: <a href="https://github.com/bemts-hhs/nemsqar/blob/v1.1.0/R/asthma_01_population.R" class="external-link"><code>R/asthma_01_population.R</code></a></small>
      <div class="d-none name"><code>asthma_01_population.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Filters data down to the target populations for Asthma-01, and categorizes
records to identify needed information for the calculations.</p>
<p>Identifies key categories related to asthma-related incidents in an EMS
dataset, specifically focusing on cases where 911 was called for respiratory
distress, and certain medications were administered. This function segments
the data by age into adult and pediatric populations, computing the
proportion of cases that received beta-agonist treatment.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">asthma_01_population</span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  patient_scene_table <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  response_table <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  situation_table <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  medications_table <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">erecord_01_col</span>,</span>
<span>  incident_date_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  patient_DOB_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">epatient_15_col</span>,</span>
<span>  <span class="va">epatient_16_col</span>,</span>
<span>  <span class="va">eresponse_05_col</span>,</span>
<span>  <span class="va">esituation_11_col</span>,</span>
<span>  <span class="va">esituation_12_col</span>,</span>
<span>  <span class="va">emedications_03_col</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>A data.frame or tibble containing EMS data. Default is <code>NULL</code>.</p></dd>


<dt id="arg-patient-scene-table">patient_scene_table<a class="anchor" aria-label="anchor" href="#arg-patient-scene-table"></a></dt>
<dd><p>A data.frame or tibble containing at least
ePatient and eScene fields as a fact table. Default is <code>NULL</code>.</p></dd>


<dt id="arg-response-table">response_table<a class="anchor" aria-label="anchor" href="#arg-response-table"></a></dt>
<dd><p>A data.frame or tibble containing at least the
eResponse fields needed for this measure's calculations. Default is <code>NULL</code>.</p></dd>


<dt id="arg-situation-table">situation_table<a class="anchor" aria-label="anchor" href="#arg-situation-table"></a></dt>
<dd><p>A data.frame or tibble containing at least the
eSituation fields needed for this measure's calculations. Default is
<code>NULL</code>.</p></dd>


<dt id="arg-medications-table">medications_table<a class="anchor" aria-label="anchor" href="#arg-medications-table"></a></dt>
<dd><p>A data.frame or tibble containing at least the
eMedications fields needed for this measure's calculations. Default is
<code>NULL</code>.</p></dd>


<dt id="arg-erecord-col">erecord_01_col<a class="anchor" aria-label="anchor" href="#arg-erecord-col"></a></dt>
<dd><p>The column representing the EMS record unique
identifier. Default is <code>NULL</code>.</p></dd>


<dt id="arg-incident-date-col">incident_date_col<a class="anchor" aria-label="anchor" href="#arg-incident-date-col"></a></dt>
<dd><p>Column that contains the incident date. This
defaults to <code>NULL</code> as it is optional in case not available due to PII
restrictions.</p></dd>


<dt id="arg-patient-dob-col">patient_DOB_col<a class="anchor" aria-label="anchor" href="#arg-patient-dob-col"></a></dt>
<dd><p>Column that contains the patient's date of birth. This
defaults to <code>NULL</code> as it is optional in case not available due to PII
restrictions.</p></dd>


<dt id="arg-epatient-col">epatient_15_col<a class="anchor" aria-label="anchor" href="#arg-epatient-col"></a></dt>
<dd><p>Column representing the patient's numeric age agnostic
of unit.</p></dd>


<dt id="arg-epatient-col">epatient_16_col<a class="anchor" aria-label="anchor" href="#arg-epatient-col"></a></dt>
<dd><p>Column representing the patient's age unit ("Years",
"Months", "Days", "Hours", or "Minute").</p></dd>


<dt id="arg-eresponse-col">eresponse_05_col<a class="anchor" aria-label="anchor" href="#arg-eresponse-col"></a></dt>
<dd><p>Column that contains eResponse.05.</p></dd>


<dt id="arg-esituation-col">esituation_11_col<a class="anchor" aria-label="anchor" href="#arg-esituation-col"></a></dt>
<dd><p>Column that contains eSituation.11 provider primary
impression data.</p></dd>


<dt id="arg-esituation-col">esituation_12_col<a class="anchor" aria-label="anchor" href="#arg-esituation-col"></a></dt>
<dd><p>Column that contains all eSituation.12 values as
(possible a single comma-separated list), provider secondary impression
data.</p></dd>


<dt id="arg-emedications-col">emedications_03_col<a class="anchor" aria-label="anchor" href="#arg-emedications-col"></a></dt>
<dd><p>Column that contains all eMedications.03 values as
a single comma-separated list.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list that contains the following:</p><ul><li><p>a tibble with counts for each filtering step,</p></li>
<li><p>a tibble for each population of interest</p></li>
<li><p>a tibble for the initial population</p></li>
<li><p>a tibble for the total dataset with computations</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Nicolas Foss, Ed.D., MS</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># If you are sourcing your data from a SQL database connection</span></span></span>
<span class="r-in"><span><span class="co"># or if you have your data in several different tables,</span></span></span>
<span class="r-in"><span><span class="co"># you can pass table inputs versus a single data.frame or tibble</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create tables to test correct functioning</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># patient table</span></span></span>
<span class="r-in"><span><span class="va">patient_table</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  erecord_01 <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,</span></span>
<span class="r-in"><span>  incident_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2025-01-01"</span>, <span class="st">"2025-01-05"</span>, <span class="st">"2025-02-01"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  patient_dob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2000-01-01"</span>, <span class="st">"2020-01-01"</span>, <span class="st">"2023-01-01"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  epatient_15 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">5</span>, <span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  epatient_16 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"years"</span>, <span class="st">"years"</span>, <span class="st">"months"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># response table</span></span></span>
<span class="r-in"><span><span class="va">response_table</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  erecord_01 <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,</span></span>
<span class="r-in"><span>  eresponse_05 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2205001"</span>, <span class="st">"2205009"</span>, <span class="st">"2205003"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># situation table</span></span></span>
<span class="r-in"><span><span class="va">situation_table</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  erecord_01 <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,</span></span>
<span class="r-in"><span>  esituation_11 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"weakness"</span>, <span class="st">"asthma"</span>, <span class="st">"bronchospasm"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  esituation_12 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"asthma"</span>, <span class="st">"weakness"</span>, <span class="st">"weakness"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># medications table</span></span></span>
<span class="r-in"><span><span class="va">medications_table</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  erecord_01 <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,</span></span>
<span class="r-in"><span>  emedications_03 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"albuterol"</span>, <span class="st">"levalbuterol"</span>, <span class="st">"metaproterenol"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># test the success of the function</span></span></span>
<span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">asthma_01_population</span><span class="op">(</span>patient_scene_table <span class="op">=</span> <span class="va">patient_table</span>,</span></span>
<span class="r-in"><span>                               response_table <span class="op">=</span> <span class="va">response_table</span>,</span></span>
<span class="r-in"><span>                               situation_table <span class="op">=</span> <span class="va">situation_table</span>,</span></span>
<span class="r-in"><span>                               medications_table <span class="op">=</span> <span class="va">medications_table</span>,</span></span>
<span class="r-in"><span>                               erecord_01_col <span class="op">=</span> <span class="va">erecord_01</span>,</span></span>
<span class="r-in"><span>                               incident_date_col <span class="op">=</span> <span class="va">incident_date</span>,</span></span>
<span class="r-in"><span>                               patient_DOB_col <span class="op">=</span> <span class="va">patient_dob</span>,</span></span>
<span class="r-in"><span>                               epatient_15_col <span class="op">=</span> <span class="va">epatient_15</span>,</span></span>
<span class="r-in"><span>                               epatient_16_col <span class="op">=</span> <span class="va">epatient_16</span>,</span></span>
<span class="r-in"><span>                               eresponse_05_col <span class="op">=</span> <span class="va">eresponse_05</span>,</span></span>
<span class="r-in"><span>                               esituation_11_col <span class="op">=</span> <span class="va">esituation_11</span>,</span></span>
<span class="r-in"><span>                               esituation_12_col <span class="op">=</span> <span class="va">esituation_12</span>,</span></span>
<span class="r-in"><span>                               emedications_03_col <span class="op">=</span> <span class="va">emedications_03</span></span></span>
<span class="r-in"><span>                               <span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running `asthma_01_population()`  [Working on 1 of 10 tasks] <span style="color: #00BB00;">●●●●</span><span style="color: #FFFFFF;">──────────────</span>…</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running `asthma_01_population()`  [Working on 2 of 10 tasks] <span style="color: #00BB00;">●●●●●●●</span><span style="color: #FFFFFF;">───────────</span>…</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running `asthma_01_population()`  [Working on 3 of 10 tasks] <span style="color: #00BB00;">●●●●●●●●●●</span><span style="color: #FFFFFF;">────────</span>…</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running `asthma_01_population()`  [Working on 4 of 10 tasks] <span style="color: #00BB00;">●●●●●●●●●●●●●</span><span style="color: #FFFFFF;">─────</span>…</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running `asthma_01_population()`  [Working on 5 of 10 tasks] <span style="color: #00BB00;">●●●●●●●●●●●●●●●●</span><span style="color: #FFFFFF;">──</span>…</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running `asthma_01_population()`  [Working on 6 of 10 tasks] <span style="color: #00BB00;">●●●●●●●●●●●●●●●●●●</span>…</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running `asthma_01_population()`  [Working on 7 of 10 tasks] <span style="color: #00BB00;">●●●●●●●●●●●●●●●●●●</span>…</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running `asthma_01_population()`  [Working on 8 of 10 tasks] <span style="color: #00BB00;">●●●●●●●●●●●●●●●●●●</span>…</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running `asthma_01_population()`  [Working on 9 of 10 tasks] <span style="color: #00BB00;">●●●●●●●●●●●●●●●●●●</span>…</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running `asthma_01_population()`  [Working on 10 of 10 tasks] <span style="color: #00BB00;">●●●●●●●●●●●●●●●●●</span>…</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># show the results of filtering at each step</span></span></span>
<span class="r-in"><span><span class="va">result</span><span class="op">$</span><span class="va">filter_process</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 7 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   filter             count</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> 911 calls              3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> Asthma cases           2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> Beta agonist cases     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> Adults denominator     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> Peds denominator       1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> Initial population     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">7</span> Total dataset          3</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Nicolas Foss, Samuel Kordik.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

