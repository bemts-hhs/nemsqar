<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Safety-04 Calculation — safety_04 • nemsqar</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Safety-04 Calculation — safety_04"><meta name="description" content="The safety_04 function processes EMS incident data for specific safety and
transport criteria, filtering by patient age and incident type to identify
cases that meet specified exclusion or inclusion criteria. This function
accommodates data with various EMS-specific codes, age descriptors, and
procedure identifiers."><meta property="og:description" content="The safety_04 function processes EMS incident data for specific safety and
transport criteria, filtering by patient age and incident type to identify
cases that meet specified exclusion or inclusion criteria. This function
accommodates data with various EMS-specific codes, age descriptors, and
procedure identifiers."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">nemsqar</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bemts-hhs/nemsqar/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Safety-04 Calculation</h1>
      <small class="dont-index">Source: <a href="https://github.com/bemts-hhs/nemsqar/blob/main/R/safety_04.R" class="external-link"><code>R/safety_04.R</code></a></small>
      <div class="d-none name"><code>safety_04.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>safety_04</code> function processes EMS incident data for specific safety and
transport criteria, filtering by patient age and incident type to identify
cases that meet specified exclusion or inclusion criteria. This function
accommodates data with various EMS-specific codes, age descriptors, and
procedure identifiers.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">safety_04</span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  patient_scene_table <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  response_table <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  arrest_table <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  injury_table <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  procedures_table <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  disposition_table <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">erecord_01_col</span>,</span>
<span>  incident_date_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  patient_DOB_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">epatient_15_col</span>,</span>
<span>  <span class="va">epatient_16_col</span>,</span>
<span>  <span class="va">eresponse_05_col</span>,</span>
<span>  <span class="va">earrest_01_col</span>,</span>
<span>  <span class="va">einjury_03_col</span>,</span>
<span>  <span class="va">eprocedures_03_col</span>,</span>
<span>  <span class="va">edisposition_14_col</span>,</span>
<span>  <span class="va">transport_disposition_col</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>A data frame or tibble containing EMS data where each row
represents an individual observation.</p></dd>


<dt id="arg-patient-scene-table">patient_scene_table<a class="anchor" aria-label="anchor" href="#arg-patient-scene-table"></a></dt>
<dd><p>A data frame or tibble containing fields from
epatient and escene needed for this measure's calculations.</p></dd>


<dt id="arg-response-table">response_table<a class="anchor" aria-label="anchor" href="#arg-response-table"></a></dt>
<dd><p>A data frame or tibble containing fields from eresponse
needed for this measure's calculations.</p></dd>


<dt id="arg-arrest-table">arrest_table<a class="anchor" aria-label="anchor" href="#arg-arrest-table"></a></dt>
<dd><p>A data frame or tibble containing fields from earrest
needed for this measure's calculations.</p></dd>


<dt id="arg-injury-table">injury_table<a class="anchor" aria-label="anchor" href="#arg-injury-table"></a></dt>
<dd><p>A data frame or tibble containing fields from einjury
needed for this measure's calculations.</p></dd>


<dt id="arg-procedures-table">procedures_table<a class="anchor" aria-label="anchor" href="#arg-procedures-table"></a></dt>
<dd><p>A data frame or tibble containing fields from
eprocedures needed for this measure's calculations.</p></dd>


<dt id="arg-disposition-table">disposition_table<a class="anchor" aria-label="anchor" href="#arg-disposition-table"></a></dt>
<dd><p>A data frame or tibble containing fields from
edisposition needed for this measure's calculations.</p></dd>


<dt id="arg-erecord-col">erecord_01_col<a class="anchor" aria-label="anchor" href="#arg-erecord-col"></a></dt>
<dd><p>The column containing unique record identifiers for
each encounter.</p></dd>


<dt id="arg-incident-date-col">incident_date_col<a class="anchor" aria-label="anchor" href="#arg-incident-date-col"></a></dt>
<dd><p>Column that contains the incident date. This
defaults to <code>NULL</code> as it is optional in case not available due to PII
restrictions.</p></dd>


<dt id="arg-patient-dob-col">patient_DOB_col<a class="anchor" aria-label="anchor" href="#arg-patient-dob-col"></a></dt>
<dd><p>Column that contains the patient's date of birth. This
defaults to <code>NULL</code> as it is optional in case not available due to PII
restrictions.</p></dd>


<dt id="arg-epatient-col">epatient_15_col<a class="anchor" aria-label="anchor" href="#arg-epatient-col"></a></dt>
<dd><p>Column name indicating the patient age.</p></dd>


<dt id="arg-epatient-col">epatient_16_col<a class="anchor" aria-label="anchor" href="#arg-epatient-col"></a></dt>
<dd><p>Column name for the unit of age (e.g., "Years,"
"Months").</p></dd>


<dt id="arg-eresponse-col">eresponse_05_col<a class="anchor" aria-label="anchor" href="#arg-eresponse-col"></a></dt>
<dd><p>Column containing response transport codes.</p></dd>


<dt id="arg-earrest-col">earrest_01_col<a class="anchor" aria-label="anchor" href="#arg-earrest-col"></a></dt>
<dd><p>Column with cardiac arrest status information.</p></dd>


<dt id="arg-einjury-col">einjury_03_col<a class="anchor" aria-label="anchor" href="#arg-einjury-col"></a></dt>
<dd><p>Column describing traumatic injuries, expected as a
list or text-separated entries.</p></dd>


<dt id="arg-eprocedures-col">eprocedures_03_col<a class="anchor" aria-label="anchor" href="#arg-eprocedures-col"></a></dt>
<dd><p>Column listing procedures, assumed to contain
multiple procedure codes/texts in each cell.</p></dd>


<dt id="arg-edisposition-col">edisposition_14_col<a class="anchor" aria-label="anchor" href="#arg-edisposition-col"></a></dt>
<dd><p>Column for transport dispositions.</p></dd>


<dt id="arg-transport-disposition-col">transport_disposition_col<a class="anchor" aria-label="anchor" href="#arg-transport-disposition-col"></a></dt>
<dd><p>Columns for primary and secondary transport
dispositions.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments for flexibility in function customization.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data.frame summarizing results for three population groups (All,
Adults, and Peds) with the following columns:</p>
<p><code>measure</code>: The name of the measure being calculated.
<code>pop</code>: Population type (All, Adults, or Peds).
<code>numerator</code>: Count of incidents where beta-agonist medications were
administered.
<code>denominator</code>: Total count of incidents.
<code>prop</code>: Proportion of incidents involving beta-agonist medications.
<code>prop_label</code>: Proportion formatted as a percentage with a specified number
of decimal places.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Nicolas Foss, Ed.D., MS</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Synthetic test data</span></span></span>
<span class="r-in"><span>  <span class="va">test_data</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    erecord_01 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"R1"</span>, <span class="st">"R2"</span>, <span class="st">"R3"</span>, <span class="st">"R4"</span>, <span class="st">"R5"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    epatient_15 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">34</span>, <span class="fl">5</span>, <span class="fl">45</span>, <span class="fl">2</span>, <span class="fl">60</span><span class="op">)</span>,  <span class="co"># Ages</span></span></span>
<span class="r-in"><span>    epatient_16 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Years"</span>, <span class="st">"Years"</span>, <span class="st">"Years"</span>, <span class="st">"Months"</span>, <span class="st">"Years"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    eresponse_05 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">2205001</span>, <span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    earrest_01 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"No"</span>, <span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    einjury_03 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"non-injury"</span>, <span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    edisposition_14 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">4214001</span>, <span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    edisposition_30 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">4230001</span>, <span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    eprocedures_03 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"other response"</span>, <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Run function</span></span></span>
<span class="r-in"><span>  <span class="fu">safety_04</span><span class="op">(</span></span></span>
<span class="r-in"><span>    df <span class="op">=</span> <span class="va">test_data</span>,</span></span>
<span class="r-in"><span>    erecord_01_col <span class="op">=</span> <span class="va">erecord_01</span>,</span></span>
<span class="r-in"><span>    epatient_15_col <span class="op">=</span> <span class="va">epatient_15</span>,</span></span>
<span class="r-in"><span>    epatient_16_col <span class="op">=</span> <span class="va">epatient_16</span>,</span></span>
<span class="r-in"><span>    eresponse_05_col <span class="op">=</span> <span class="va">eresponse_05</span>,</span></span>
<span class="r-in"><span>    earrest_01_col <span class="op">=</span> <span class="va">earrest_01</span>,</span></span>
<span class="r-in"><span>    einjury_03_col <span class="op">=</span> <span class="va">einjury_03</span>,</span></span>
<span class="r-in"><span>    edisposition_14_col <span class="op">=</span> <span class="va">edisposition_14</span>,</span></span>
<span class="r-in"><span>    transport_disposition_col <span class="op">=</span> <span class="va">edisposition_30</span>,</span></span>
<span class="r-in"><span>    eprocedures_03_col <span class="op">=</span> <span class="va">eprocedures_03</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Safety-04</span> <span style="color: #00BBBB;">───────────────────────────────────────────────────────────────────</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ── <span style="font-weight: bold;">Gathering Records for Safety-04</span> ──</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running `safety_04_population()`  [Working on 1 of 13 tasks] <span style="color: #00BB00;">●●●</span><span style="color: #FFFFFF;">───────────────</span>…</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running `safety_04_population()`  [Working on 2 of 13 tasks] <span style="color: #00BB00;">●●●●●●</span><span style="color: #FFFFFF;">────────────</span>…</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running `safety_04_population()`  [Working on 3 of 13 tasks] <span style="color: #00BB00;">●●●●●●●●</span><span style="color: #FFFFFF;">──────────</span>…</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running `safety_04_population()`  [Working on 4 of 13 tasks] <span style="color: #00BB00;">●●●●●●●●●●</span><span style="color: #FFFFFF;">────────</span>…</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running `safety_04_population()`  [Working on 5 of 13 tasks] <span style="color: #00BB00;">●●●●●●●●●●●●●</span><span style="color: #FFFFFF;">─────</span>…</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running `safety_04_population()`  [Working on 6 of 13 tasks] <span style="color: #00BB00;">●●●●●●●●●●●●●●●</span><span style="color: #FFFFFF;">───</span>…</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running `safety_04_population()`  [Working on 7 of 13 tasks] <span style="color: #00BB00;">●●●●●●●●●●●●●●●●●</span><span style="color: #FFFFFF;">─</span>…</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running `safety_04_population()`  [Working on 8 of 13 tasks] <span style="color: #00BB00;">●●●●●●●●●●●●●●●●●●</span>…</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running `safety_04_population()`  [Working on 9 of 13 tasks] <span style="color: #00BB00;">●●●●●●●●●●●●●●●●●●</span>…</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running `safety_04_population()`  [Working on 10 of 13 tasks] <span style="color: #00BB00;">●●●●●●●●●●●●●●●●●</span>…</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running `safety_04_population()`  [Working on 11 of 13 tasks] <span style="color: #00BB00;">●●●●●●●●●●●●●●●●●</span>…</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running `safety_04_population()`  [Working on 12 of 13 tasks] <span style="color: #00BB00;">●●●●●●●●●●●●●●●●●</span>…</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running `safety_04_population()`  [Working on 13 of 13 tasks] <span style="color: #00BB00;">●●●●●●●●●●●●●●●●●</span>…</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ── <span style="font-weight: bold;">Calculating Safety-04</span> ──</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Function completed in <span style="color: #00BB00;">0.18s</span>.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1 × 6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   measure   pop   numerator denominator  prop prop_label</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> Safety-04 Peds          2           2     1 100%      </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Nicolas Foss, Samuel Kordik.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

