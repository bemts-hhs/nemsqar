<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Safety-04 Calculation — safety_04 • nemsqar</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Safety-04 Calculation — safety_04"><meta property="og:description" content="The safety_04 function processes EMS incident data for specific safety and transport criteria, filtering by patient age and incident type to identify cases that meet specified exclusion or inclusion criteria. This function accommodates data with various EMS-specific codes, age descriptors, and procedure identifiers."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">nemsqar</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/bemts-hhs/nemsqar-package/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Safety-04 Calculation</h1>
    <small class="dont-index">Source: <a href="https://github.com/bemts-hhs/nemsqar-package/blob/HEAD/R/safety_04.R" class="external-link"><code>R/safety_04.R</code></a></small>
    <div class="hidden name"><code>safety_04.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code>safety_04</code> function processes EMS incident data for specific safety and transport criteria, filtering by patient age and incident type to identify cases that meet specified exclusion or inclusion criteria. This function accommodates data with various EMS-specific codes, age descriptors, and procedure identifiers.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">safety_04</span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  patient_scene_table <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  response_table <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  arrest_table <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  injury_table <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  procedures_table <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  disposition_table <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">erecord_01_col</span>,</span>
<span>  incident_date_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  patient_DOB_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">epatient_15_col</span>,</span>
<span>  <span class="va">epatient_16_col</span>,</span>
<span>  <span class="va">eresponse_05_col</span>,</span>
<span>  <span class="va">earrest_01_col</span>,</span>
<span>  <span class="va">einjury_03_col</span>,</span>
<span>  <span class="va">eprocedures_03_col</span>,</span>
<span>  <span class="va">edisposition_14_col</span>,</span>
<span>  <span class="va">transport_disposition_col</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>&lt;'tidy-select'&gt; A data frame or tibble containing EMS data where each row represents an individual observation.</p></dd>


<dt id="arg-patient-scene-table">patient_scene_table<a class="anchor" aria-label="anchor" href="#arg-patient-scene-table"></a></dt>
<dd><p>A data frame or tibble containing fields from epatient and escene needed for this measure's calculations.</p></dd>


<dt id="arg-response-table">response_table<a class="anchor" aria-label="anchor" href="#arg-response-table"></a></dt>
<dd><p>A data frame or tibble containing fields from eresponse needed for this measure's calculations.</p></dd>


<dt id="arg-arrest-table">arrest_table<a class="anchor" aria-label="anchor" href="#arg-arrest-table"></a></dt>
<dd><p>A data frame or tibble containing fields from earrest needed for this measure's calculations.</p></dd>


<dt id="arg-injury-table">injury_table<a class="anchor" aria-label="anchor" href="#arg-injury-table"></a></dt>
<dd><p>A data frame or tibble containing fields from einjury needed for this measure's calculations.</p></dd>


<dt id="arg-procedures-table">procedures_table<a class="anchor" aria-label="anchor" href="#arg-procedures-table"></a></dt>
<dd><p>A data frame or tibble containing fields from eprocedures needed for this measure's calculations.</p></dd>


<dt id="arg-disposition-table">disposition_table<a class="anchor" aria-label="anchor" href="#arg-disposition-table"></a></dt>
<dd><p>A data frame or tibble containing fields from edisposition needed for this measure's calculations.</p></dd>


<dt id="arg-erecord-col">erecord_01_col<a class="anchor" aria-label="anchor" href="#arg-erecord-col"></a></dt>
<dd><p>&lt;'tidy-select'&gt; The column containing unique record identifiers for each encounter.</p></dd>


<dt id="arg-incident-date-col">incident_date_col<a class="anchor" aria-label="anchor" href="#arg-incident-date-col"></a></dt>
<dd><p>&lt;'tidy-select'&gt; Column name containing the incident dates, expected to be of Date or POSIXct class.</p></dd>


<dt id="arg-patient-dob-col">patient_DOB_col<a class="anchor" aria-label="anchor" href="#arg-patient-dob-col"></a></dt>
<dd><p>&lt;'tidy-select'&gt; Column name containing patient birth dates, expected to be of Date or POSIXct class.</p></dd>


<dt id="arg-epatient-col">epatient_15_col<a class="anchor" aria-label="anchor" href="#arg-epatient-col"></a></dt>
<dd><p>&lt;'tidy-select'&gt; Column name indicating the patient age.</p></dd>


<dt id="arg-epatient-col">epatient_16_col<a class="anchor" aria-label="anchor" href="#arg-epatient-col"></a></dt>
<dd><p>&lt;'tidy-select'&gt; Column name for the unit of age (e.g., "Years," "Months").</p></dd>


<dt id="arg-eresponse-col">eresponse_05_col<a class="anchor" aria-label="anchor" href="#arg-eresponse-col"></a></dt>
<dd><p>&lt;'tidy-select'&gt; Column containing response transport codes.</p></dd>


<dt id="arg-earrest-col">earrest_01_col<a class="anchor" aria-label="anchor" href="#arg-earrest-col"></a></dt>
<dd><p>&lt;'tidy-select'&gt; Column with cardiac arrest status information.</p></dd>


<dt id="arg-einjury-col">einjury_03_col<a class="anchor" aria-label="anchor" href="#arg-einjury-col"></a></dt>
<dd><p>&lt;'tidy-select'&gt; Column describing traumatic injuries, expected as a list or text-separated entries.</p></dd>


<dt id="arg-eprocedures-col">eprocedures_03_col<a class="anchor" aria-label="anchor" href="#arg-eprocedures-col"></a></dt>
<dd><p>&lt;'tidy-select'&gt; Column listing procedures, assumed to contain multiple procedure codes/texts in each cell.</p></dd>


<dt id="arg-edisposition-col">edisposition_14_col<a class="anchor" aria-label="anchor" href="#arg-edisposition-col"></a></dt>
<dd><p>&lt;'tidy-select'&gt; Column for transport dispositions.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments for flexibility in function customization.</p></dd>


<dt id="arg-transport-disposition-cols">transport_disposition_cols<a class="anchor" aria-label="anchor" href="#arg-transport-disposition-cols"></a></dt>
<dd><p>&lt;'tidy-select'&gt; Columns for primary and secondary transport dispositions.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A data.frame summarizing results for three population groups (All,
Adults, and Peds) with the following columns:
<code>pop</code>: Population type (All, Adults, or Peds).
<code>numerator</code>: Count of incidents where beta-agonist medications were administered.
<code>denominator</code>: Total count of incidents.
<code>prop</code>: Proportion of incidents involving beta-agonist medications.
<code>prop_label</code>: Proportion formatted as a percentage with a specified number of
decimal places.</p>
    </div>
    <div id="data-assumptions">
    <h2>Data Assumptions</h2>



<p>This function assumes that:</p>
<p>Data are already loaded into a data frame or tibble where each row represents
one observation (e.g., patient) and each column is a distinct feature (field).
Alternatively, data may consist of separate datasets referenced by unique columns.</p>
<p>Patient age in years will be calculated using <code>incident_date_col</code> and <code>patient_DOB_col</code>.
Both of these fields must be valid <code>Date</code> or <code>POSIXct</code> data types.</p>
<p>Missing values in rows are represented as <code>NA</code>. "Not known" or "not recorded" values,
common to ImageTrend or other non-numeric codes, should be pre-cleaned before use.</p>
<p>The <code>eresponse_05_col</code> contains NEMSIS response codes and may also include
descriptive text for reference.</p>
<p>The <code>edisposition_14_col</code> is expected to contain transport mode descriptors, which
may be provided as comma-separated text within each cell, or as a list column.</p>
<p>The <code>earrest_01_col</code> includes cardiac arrest information as text and code; typically
only one response per patient encounter is recorded.</p>
<p>The <code>eprocedures_03_col</code> contains all procedures as a list or a text column with
multiple entries separated by commas or other delimiters. Procedure codes may be present
but will not affect function output.</p>
<p>The <code>einjury_03_col</code> should include all trauma center triage criteria. This function will
detect duplicate entries and filter on unique values per patient encounter.</p>
<p>The <code>edisposition_12</code> and <code>edisposition_30</code> fields should be list columns or text fields
with all relevant transport disposition entries provided in a single cell as comma-separated
values for each unique incident.</p>
<p>The first argument to this function is the main data frame. No joins are performed within
the function; any necessary joins (e.g., to incorporate vitals or additional fields) should
be completed prior to calling this function.</p>
<p>Grouping by specific attributes (e.g., region) can be performed inside this function by
utilizing the <code>.by</code> argument passed via tidydots (i.e. <code>...</code>) to <code><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">dplyr::summarize</a></code>.</p>
    </div>
    <div id="practical-tips">
    <h2>Practical Tips</h2>



<p>Ensure data are pre-processed, with missing values coded as <code>NA</code>, before passing
into the function.
Prepare necessary joins (e.g., for vitals) in advance; this function does not perform joins.</p>
    </div>
    <div id="value">
    <h2>Value</h2>



<p>#' A summarized tibble with counts and proportions of pediatric patients ages &lt;8 yrs
using a pediatric restraing device among 911 requests or interfacility request.</p>
    </div>
    <div id="features">
    <h2>Features</h2>


<ul><li><p><strong>Age Calculation</strong>: Calculates patient age in years based on <code>incident_date_col</code> and <code>patient_DOB_col</code>.</p></li>
<li><p><strong>Transport Identification</strong>: Flags records for EMS transport and interfacility transports based on provided codes.</p></li>
<li><p><strong>Cardiac Arrest &amp; Trauma Triage Filtering</strong>: Identifies cases with severe trauma indicators or cardiac arrest.</p></li>
<li><p><strong>Procedure Exclusion</strong>: Applies exclusion criteria based on specific airway and immobilization procedures.</p></li>
<li><p><strong>Minor Age Check</strong>: Separates pediatric cases (&lt;8 years) by EMS-reported or calculated age.</p></li>
</ul></div>
    <div id="author">
    <h2>Author</h2>
    <p>Nicolas Foss, Ed.D., MS</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Nicolas Foss, Alyssa Green, Samuel Kordik.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

