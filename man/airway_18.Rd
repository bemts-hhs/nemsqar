% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/airway_18.R
\name{airway_18}
\alias{airway_18}
\title{Airway-18}
\usage{
airway_18(
  df = NULL,
  patient_scene_table = NULL,
  procedures_table = NULL,
  vitals_table = NULL,
  airway_table = NULL,
  response_table = NULL,
  erecord_01_col,
  incident_date_col = NULL,
  patient_DOB_col = NULL,
  epatient_15_col,
  epatient_16_col,
  eresponse_05_col,
  eprocedures_01_col,
  eprocedures_02_col,
  eprocedures_03_col,
  eprocedures_05_col,
  eprocedures_06_col,
  eairway_02_col = NULL,
  eairway_04_col = NULL,
  evitals_01_col,
  evitals_16_col,
  ...
)
}
\arguments{
\item{df}{A data frame or tibble containing the dataset to be processed.}

\item{patient_scene_table}{A data frame or tibble containing only epatient and escene fields as a fact table. Default is \code{NULL}.}

\item{procedures_table}{A data frame or tibble containing only the eprocedures fields needed for this measure's calculations. Default is \code{NULL}.}

\item{vitals_table}{A data frame or tibble containing only the evitals fields needed for this measure's calculations. Default is \code{NULL}.}

\item{airway_table}{A data frame or tibble containing only the eairway fields needed for this measure's calculations. Default is \code{NULL}.}

\item{response_table}{A data frame or tibble containing only the eresponse fields needed for this measure's calculations. Default is \code{NULL}.}

\item{erecord_01_col}{<\link[=dplyr_tidy_select]{'tidy-select'}> Column name containing the unique patient record identifier.}

\item{incident_date_col}{<\link[=dplyr_tidy_select]{'tidy-select'}> Column name containing the incident date. Default is \code{NULL}.}

\item{patient_DOB_col}{<\link[=dplyr_tidy_select]{'tidy-select'}> Column name containing the patient's date of birth. Default is \code{NULL}.}

\item{epatient_15_col}{<\link[=dplyr_tidy_select]{'tidy-select'}> Column name for patient information (exact purpose unclear).}

\item{epatient_16_col}{<\link[=dplyr_tidy_select]{'tidy-select'}> Column name for patient information (exact purpose unclear).}

\item{eresponse_05_col}{<\link[=dplyr_tidy_select]{'tidy-select'}> Column name for emergency response codes.}

\item{eprocedures_01_col}{<\link[=dplyr_tidy_select]{'tidy-select'}> Column name for procedure times or other related data.}

\item{eprocedures_02_col}{<\link[=dplyr_tidy_select]{'tidy-select'}> Column name for additional procedure data.}

\item{eprocedures_03_col}{<\link[=dplyr_tidy_select]{'tidy-select'}> Column name for procedure codes.}

\item{eprocedures_05_col}{<\link[=dplyr_tidy_select]{'tidy-select'}> Column name for number of procedure attempts.}

\item{eprocedures_06_col}{<\link[=dplyr_tidy_select]{'tidy-select'}> Column name for procedure success codes.}

\item{eairway_02_col}{<\link[=dplyr_tidy_select]{'tidy-select'}> Column name for airway procedure data (datetime). Default is \code{NULL}.}

\item{eairway_04_col}{<\link[=dplyr_tidy_select]{'tidy-select'}> Column name for airway procedure data. Default is \code{NULL}.}

\item{evitals_01_col}{<\link[=dplyr_tidy_select]{'tidy-select'}> Column name for vital signs data (datetime).}

\item{evitals_16_col}{<\link[=dplyr_tidy_select]{'tidy-select'}> Column name for additional vital signs data.}

\item{...}{Additional arguments passed to other functions if needed.}
}
\value{
A tibble summarizing results for Adults and Peds with the following columns:
\code{pop}: Population type (Adults, Peds).
\code{numerator}: Count of incidents where waveform capnography is used for tube placement confirmation on
the last successful invasive airway procedure.
\code{denominator}: Total count of incidents.
\code{prop}: Proportion of incidents where waveform capnography is used for tube placement confirmation on
the last successful invasive airway procedure.
\code{prop_label}: Proportion formatted as a percentage with a specified number of
decimal places.
}
\description{
This function processes and analyzes the dataset to calculate the "Airway-18" NEMSQA metric.
It includes cleaning and transforming several columns related to patient data, airway procedures,
and vital signs, and it returns a cleaned dataset with the relevant calculations.
The final calculation is an assessment of the successful last invasive airway procedures
performed during an EMS response originating from a 911 request in which waveform capnography
is used for tube placement confirmation.
}
\note{
This function filters and processes EMS data to:
\itemize{
\item Identify the last successful airway procedure.
\item Filter for 911 response codes and relevant vital signs (i.e. ETCO2).
\item Aggregate results by patient encounter and calculate stroke scale outcomes.
\item Return a summary of stroke cases by unique patient identifier, including stroke scale measurements.
}
}
\section{Data Assumptions}{


#' This function assumes that:
Data are already loaded. The data needs to be a data.frame or tibble.

Age in years will be calculated using the patient date of birth and incident
date. These fields must have valid Date or POSIXct data types.

When values are missing, they are coded as NA, not the "not known"/"not
recorded" values common to ImageTrend or the NEMSIS codes that correspond to
"not values".

For the eprocedure, eairway, and evitals fields, all responses entered can be
included in \code{df}.  This will result in Cartesian product, but the function
will performantly handle that problem.

The eAirway fields are optional in this function in case a user does not have access to those fields.
}

\section{Practical Tips}{


Ensure data are pre-processed, with missing values coded as \code{NA}, before passing
into the function.
Prepare necessary joins (e.g., for vitals) in advance; this function does not perform joins.
}

\author{
Nicolas Foss, Ed.D., MS
}
