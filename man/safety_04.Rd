% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/safety_04.R
\name{safety_04}
\alias{safety_04}
\title{Safety-04}
\usage{
safety_04(
  df,
  erecord_01_col,
  incident_date_col,
  patient_DOB_col,
  epatient_15_col,
  epatient_16_col,
  eresponse_05_col,
  earrest_01_col,
  einjury_03_col,
  eprocedures_03_col,
  edisposition_14_col,
  transport_disposition_col,
  ...
)
}
\arguments{
\item{df}{<\link[=dplyr_tidy_select]{'tidy-select'}> A data frame or tibble containing EMS data where each row represents an individual observation.}

\item{incident_date_col}{<\link[=dplyr_tidy_select]{'tidy-select'}> Column name containing the incident dates, expected to be of Date or POSIXct class.}

\item{patient_DOB_col}{<\link[=dplyr_tidy_select]{'tidy-select'}> Column name containing patient birth dates, expected to be of Date or POSIXct class.}

\item{epatient_15_col}{<\link[=dplyr_tidy_select]{'tidy-select'}> Column name indicating the patient age.}

\item{epatient_16_col}{<\link[=dplyr_tidy_select]{'tidy-select'}> Column name for the unit of age (e.g., "Years," "Months").}

\item{eresponse_05_col}{<\link[=dplyr_tidy_select]{'tidy-select'}> Column containing response transport codes.}

\item{earrest_01_col}{<\link[=dplyr_tidy_select]{'tidy-select'}> Column with cardiac arrest status information.}

\item{einjury_03_col}{<\link[=dplyr_tidy_select]{'tidy-select'}> Column describing traumatic injuries, expected as a list or text-separated entries.}

\item{eprocedures_03_col}{<\link[=dplyr_tidy_select]{'tidy-select'}> Column listing procedures, assumed to contain multiple procedure codes/texts in each cell.}

\item{edisposition_14_col}{<\link[=dplyr_tidy_select]{'tidy-select'}> Column for transport dispositions.}

\item{...}{Additional arguments for flexibility in function customization.}

\item{`erecord_01_col`}{<\link[=dplyr_tidy_select]{'tidy-select'}> The column containing unique record identifiers for each encounter.}

\item{transport_disposition_cols}{<\link[=dplyr_tidy_select]{'tidy-select'}> Columns for primary and secondary transport dispositions.}
}
\value{
A data.frame summarizing results for three population groups (All,
Adults, and Peds) with the following columns:
\code{pop}: Population type (All, Adults, or Peds).
\code{numerator}: Count of incidents where beta-agonist medications were administered.
\code{denominator}: Total count of incidents.
\code{prop}: Proportion of incidents involving beta-agonist medications.
\code{prop_label}: Proportion formatted as a percentage with a specified number of
decimal places.
}
\description{
The \code{safety_04} function processes EMS incident data for specific safety and transport criteria, filtering by patient age and incident type to identify cases that meet specified exclusion or inclusion criteria. This function accommodates data with various EMS-specific codes, age descriptors, and procedure identifiers.
}
\section{Data Assumptions}{


This function assumes that:

Data are already loaded into a data frame or tibble where each row represents
one observation (e.g., patient) and each column is a distinct feature (field).
Alternatively, data may consist of separate datasets referenced by unique columns.

Patient age in years will be calculated using \code{incident_date_col} and \code{patient_DOB_col}.
Both of these fields must be valid \code{Date} or \code{POSIXct} data types.

Missing values in rows are represented as \code{NA}. "Not known" or "not recorded" values,
common to ImageTrend or other non-numeric codes, should be pre-cleaned before use.

The \code{eresponse_05_col} contains NEMSIS response codes and may also include
descriptive text for reference.

The \code{edisposition_14_col} is expected to contain transport mode descriptors, which
may be provided as comma-separated text within each cell, or as a list column.

The \code{earrest_01_col} includes cardiac arrest information as text and code; typically
only one response per patient encounter is recorded.

The \code{eprocedures_03_col} contains all procedures as a list or a text column with
multiple entries separated by commas or other delimiters. Procedure codes may be present
but will not affect function output.

The \code{einjury_03_col} should include all trauma center triage criteria. This function will
detect duplicate entries and filter on unique values per patient encounter.

The \code{edisposition_12} and \code{edisposition_30} fields should be list columns or text fields
with all relevant transport disposition entries provided in a single cell as comma-separated
values for each unique incident.

The first argument to this function is the main data frame. No joins are performed within
the function; any necessary joins (e.g., to incorporate vitals or additional fields) should
be completed prior to calling this function.

Grouping by specific attributes (e.g., region) can be performed inside this function by
utilizing the \code{.by} argument passed via tidydots (i.e. \code{...}) to \code{dplyr::summarize}.
}

\section{Practical Tips}{


Ensure data are pre-processed, with missing values coded as \code{NA}, before passing
into the function.
Prepare necessary joins (e.g., for vitals) in advance; this function does not perform joins.
}

\section{Value}{


#' A summarized tibble with counts and proportions of pediatric patients ages <8 yrs
using a pediatric restraing device among 911 requests or interfacility request.
}

\section{Features}{

\itemize{
\item \strong{Age Calculation}: Calculates patient age in years based on \code{incident_date_col} and \code{patient_DOB_col}.
\item \strong{Transport Identification}: Flags records for EMS transport and interfacility transports based on provided codes.
\item \strong{Cardiac Arrest & Trauma Triage Filtering}: Identifies cases with severe trauma indicators or cardiac arrest.
\item \strong{Procedure Exclusion}: Applies exclusion criteria based on specific airway and immobilization procedures.
\item \strong{Minor Age Check}: Separates pediatric cases (<8 years) by EMS-reported or calculated age.
}
}

\author{
Nicolas Foss, Ed.D., MS
}
